{
  "name": "almond",
  "description": "A minimal AMD API implementation for use in optimized browser builds.",
  "version": "0.2.0",
  "homepage": "http://github.com/jrburke/almond",
  "author": {
    "name": "James Burke",
    "email": "jrburke@gmail.com",
    "url": "http://github.com/jrburke"
  },
  "licenses": [
    {
      "type": "BSD",
      "url": "https://github.com/jrburke/almond/blob/master/LICENSE"
    },
    {
      "type": "MIT",
      "url": "https://github.com/jrburke/almond/blob/master/LICENSE"
    }
  ],
  "main": "almond.js",
  "engines": {
    "node": ">=0.4.0"
  },
  "devDependencies": {
    "connect": "*"
  },
  "readme": "#almond\n\nA replacement [AMD](https://github.com/amdjs/amdjs-api/wiki/AMD) loader for\n[RequireJS](http://requirejs.org). It is a smaller \"shim\" loader, providing the\nminimal AMD API footprint that includes [loader plugin](http://requirejs.org/docs/plugins.html) support.\n\n## Why\n\nSome developers like to use the AMD API to code modular JavaScript, but after doing an optimized build,\nthey do not want to include a full AMD loader like RequireJS, since they do not need all that functionality.\nSome use cases, like mobile, are very sensitive to file sizes.\n\nBy including almond in the built file, there is no need for RequireJS.\nalmond is **1 kilobyte** when minified with Closure Compiler and gzipped.\n\nSince it can support certain types of loader plugin-optimized resources, it is a great\nfit for a library that wants to use [text templates](http://requirejs.org/docs/api.html#text)\nor [CoffeeScript](https://github.com/jrburke/require-cs) as part of\ntheir project, but get a tiny download in one file after using the\n[RequireJS Optimizer](http://requirejs.org/docs/optimization.html).\n\nIf you are building a library, the wrap=true support in the RequireJS optimizer\nwill wrap the optimized file in a closure, so the define/require AMD API does not\nescape the file. Users of your optimized file will only see the global API you decide\nto export, not the AMD API. See the usage section below for more details.\n\nSo, you get great code cleanliness with AMD and the use of powerful loader plugins\nin a tiny wrapper that makes it easy for others to use your code even if they do not use AMD.\n\n## Restrictions\n\nIt is best used for libraries or apps that use AMD and:\n\n* optimize all the modules into one file -- no dynamic code loading.\n* all modules have IDs and dependency arrays in their define() calls -- the RequireJS optimizer will take care of this for you.\n* do not use requirejs.ready(). If you use explicit dependencies for all modules, and you place\nthe optimized file in a script tag before the ending body tag, then this should not be a problem.\n* the modules avoid circular dependencies. Some kinds may work, but you will likely have to manually control\nthe module listing order in the optimizer build profile.\n* do not use [RequireJS multiversion support/contexts](http://requirejs.org/docs/api.html#multiversion).\n* do not use require.toUrl() or require.nameToUrl().\n* do not use [packages/packagePaths config](http://requirejs.org/docs/api.html#packages). If you need to use packages that have a main property, [volo](https://github.com/volojs/volo) can create an adapter module so that it can work without this config. Use the `amdify add` command to add the dependency to your project.\n\nWhat is supported:\n\n* dependencies with relative IDs.\n* define('id', {}) definitions.\n* define(), require() and requirejs() calls.\n* loader plugins that can inline their resources into optimized files, and\ncan access those inlined resources synchronously after the optimization pass.\nThe [text](http://requirejs.org/docs/api.html#text) and\n[CoffeeScript](https://github.com/jrburke/require-cs) plugins are two such plugins.\n\n\n## Download\n\n[Latest release](https://github.com/jrburke/almond/raw/latest/almond.js)\n\n\n## Usage\n\n[Download the RequireJS optimizer](http://requirejs.org/docs/download.html#rjs).\n\n[Download the current release of almond.js](https://github.com/jrburke/almond/raw/latest/almond.js).\n\nRun the optimizer using [Node](http://nodejs.org) (also [works in Java](https://github.com/jrburke/r.js/blob/master/README.md)):\n\n    node r.js -o baseUrl=. name=path/to/almond include=main out=main-built.js wrap=true\n\nThis assumes your project's top-level script file is called main.js and the command\nabove is run from the directory containing main.js. If you prefer to use a build.js build profile instead of command line arguments, [this RequireJS optimization section](http://requirejs.org/docs/optimization.html#pitfalls) has info on how to do that.\n\nwrap=true will add this wrapper around the main-built.js contents (which will be minified by UglifyJS:\n\n    (function () {\n        //almond will be here\n        //main and its nested dependencies will be here\n    }());\n\nIf you do not want that wrapper, leave off the wrap=true argument.\n\nThese optimizer arguments can also be used in a build config object, so it can be used\nin [runtime-generated server builds](https://github.com/jrburke/r.js/blob/master/build/tests/http/httpBuild.js).\n\n## Triggering module execution <a name=\"execution\"></a>\n\nAs of RequireJS 2.0 and almond 0.1, modules are only executed if they are\ncalled by a top level require call. The data-main attribute on a script tag\nfor require.js counts as a top level require call.\n\nHowever with almond, it does not look for a data-main attribute, and if your\nmain JS module does not use a top level require() or requirejs() call to\ntrigger module loading/execution, after a build, it may appear that the code\nbroke -- no modules execute.\n\nThe 2.0 RequireJS optimizer has a build config, option **insertRequire** that you\ncan use to specify that a require([]) call is inserted at the end of the built\nfile to trigger module loading. Example:\n\n    node r.js -o baseUrl=. name=path/to/almond.js include=main insertRequire=main out=main-built.js wrap=true\n\nor, if using a build config file:\n\n```javascript\n{\n    baseUrl: '.',\n    name: 'path/to/almond',\n    include: ['main'],\n    insertRequire: ['main'],\n    out: 'main-built.js',\n    wrap: true\n}\n```\n\nThis will result with `require([\"main\"]);` at the bottom of main-built.js.\n\n## Common errors\n\nExplanations of common errors:\n\n### deps is undefined\n\nWhere this line is mentioned:\n\n    if (!deps.splice) {\n\nIt usually means that there is a define()'d module, but it is missing a name,\nsomething that looks like this:\n\n    define(function () {});\n\nwhen it should look like:\n\n    define('someName', function () {});\n\nThis is usually a sign that the tool you used to combine all the modules\ntogether did not properly name an anonymous AMD module.\n\n### x missing y\n\nIt means that module 'x' asked for module 'y', but module 'y' was not available.\n\nThis usually means that 'y' was not included in the built file that includes almond.\n\nalmond can only handle modules built in with it, it cannot dynamically load\nmodules from the network.\n\n\n### No y\n\nIt means that a `require('y')` call was done but y was not available.\n\nThis usually means that 'y' was not included in the built file that includes almond.\n\nalmond can only handle modules built in with it, it cannot dynamically load\nmodules from the network.\n\n## How to get help\n\n* Contact the [requirejs list](https://groups.google.com/group/requirejs).\n* Open issues in the [issue tracker](https://github.com/jrburke/almond/issues).\n",
  "_id": "almond@0.2.0",
  "_from": "almond@0.2.x"
}
